model Customer {
  id               String  @id @default(cuid())
  name             String?
  email            String?
  avatar           String? @db.LongText
  externalId       String?
  stripeCustomerId String? @unique

  linkId    String?
  clickId   String?
  clickedAt DateTime?
  country   String?

  projectId        String
  projectConnectId String?
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt

  project  Project   @relation(fields: [projectId], references: [id], onDelete: Cascade)
  link     Link?     @relation(fields: [linkId], references: [id])
  sales    Sale[]
  earnings Earnings[]

  @@unique([projectId, externalId])
  @@unique([projectConnectId, externalId])
  @@index([projectId])
  @@index([projectConnectId])
  @@index([externalId])
  @@index([linkId])
}
