enum Category {
  Artificial_Intelligence
  Development
  Design
  Productivity
  Finance
  Marketing
  Ecommerce
  Security
  Education
  Health
  Consumer
  // Prediction_Markets
}

model ProgramCategory {
  programId String
  category  Category

  program Program @relation(fields: [programId], references: [id], onDelete: Cascade)

  @@unique([programId, category])
}

model ProgramSimilarity {
  id                         String @id @default(cuid())
  programId                  String
  similarProgramId           String
  similarityScore            Float
  categorySimilarityScore    Float
  partnerSimilarityScore     Float
  performanceSimilarityScore Float

  program        Program @relation(fields: [programId], references: [id], onDelete: Cascade)
  similarProgram Program @relation("SimilarProgram", fields: [similarProgramId], references: [id], onDelete: Cascade)

  @@unique([programId, similarProgramId])
  @@index([programId, similarityScore])
  @@index(similarProgramId)
}

model DiscoveredPartner {
  id        String @id @default(cuid())
  programId String
  partnerId String

  starredAt  DateTime?
  ignoredAt  DateTime?
  invitedAt  DateTime?
  messagedAt DateTime?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  program Program @relation(fields: [programId], references: [id], onDelete: Cascade)
  partner Partner @relation(fields: [partnerId], references: [id], onDelete: Cascade)

  @@unique([programId, partnerId])
  @@index(partnerId)
}

// TODO: remove after we refactor all partner.industryInterests to use programCategory instead
enum IndustryInterest {
  SaaS
  DevTool
  AI
  Creative_And_Design
  Productivity_Software
  Marketing
  Gaming
  Finance
  Sales
  Ecommerce
  Customer_Service_And_Support
  Content_Management
  Human_Resources
  Security
  Analytics_And_Data
  Social_Media
  Consumer_Tech
  Education_And_Learning
  Health_And_Fitness
  Food_And_Beverage
  Travel_And_Lifestyle
  Entertainment_And_Media
  Sports
  Science_And_Engineering
}
