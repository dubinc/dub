/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { ZodError } from "zod";
import * as errors from "../models/errors";

/**
 * Utility function that executes some code which may throw a ZodError. It
 * intercepts this error and converts it to an SDKValidationError so as to not
 * leak Zod implementation details to user code.
 */
export function parse<Inp, Out>(rawValue: Inp, fn: (value: Inp) => Out, errorMessage: string): Out {
    try {
        return fn(rawValue);
    } catch (err) {
        if (err instanceof ZodError) {
            throw new errors.SDKValidationError(errorMessage, err, rawValue);
        }
        throw err;
    }
}
