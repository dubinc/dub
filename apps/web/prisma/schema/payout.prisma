enum PayoutStatus {
  created
  pending
  failed
  completed
  reversed
  canceled
  flagged
}

enum PayoutMethod {
  ach
  manual
}

model Payout {
  id        String       @id @default(cuid())
  programId String
  partnerId String
  subtotal  Int
  taxes     Int
  total     Int
  payoutFee Int
  netTotal  Int
  currency  String       @default("USD")
  status    PayoutStatus @default(pending)
  due       DateTime
  createdAt DateTime     @default(now())
  updatedAt DateTime     @updatedAt

  program Program @relation(fields: [programId], references: [id])
  partner Partner @relation(fields: [partnerId], references: [id])

  @@index([programId])
  @@index([partnerId])
}
